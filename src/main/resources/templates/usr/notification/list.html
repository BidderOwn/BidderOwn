<!DOCTYPE html>
<html lang="ko">
<div th:replace="import::head"></div>
<body class="flex flex-col items-center justify-start h-screen">
<div th:replace="header::div"></div>
<!--  ì±„íŒ… ë°•ìŠ¤  -->
<div class="flex flex-col h-[800px] w-[550px] mt-6" id="app">

    <div class="flex" >
        <div class="text-3xl my-2 font-semibold">
            ì•Œë¦¼
        </div>
        <div class="ml-auto" style="position: relative; top: 30px;">
            <a id ="readAllNotification" class="text-l text-indigo-400 hover:bg-zinc-200"> ëª¨ë“  ì•Œë¦¼ ì§€ìš°ê¸°</a>

        </div>
    </div>


    <!--   ê°€ë¡œì„    -->
    <div class="border border-inherit mt-4"></div>
    <div class="flex justify-start h-5/6 w-full">
        <!--   ì„¸ë¡œì„  ì‹œì‘ì„     -->
        <div class="border border-inherit h-full"></div>
        <!--   ì•Œë¦¼ì°½ ì‹œì‘     -->
        <div class="flex flex-col justify-between w-full overflow-y-scroll">


            <div class="flex flex-col">
                <!--     ì•Œë¦¼ ì•„ì´í…œ     -->
                <th:block th:each="notification: ${notifications}">
                    <!-- ì…ì°° ì•Œë¦¼ -->
                    <a class="hover:bg-zinc-200" th:if="${notification.getNotificationType().name() == 'BID'}"
                       th:href="@{/item/{itemId}(itemId=${notification.getItemId()})}">
                        <button class="flex px-3 py-5  items-center">
                            <!-- ì´ëª¨í‹°ì½˜ -->
                            <div class="inline-block text-4xl mr-1">ğŸ‘€</div>
                            <!-- ë©”ì‹œì§€, ì‹œê°„ -->
                            <div class="flex flex-col items-start ml-2">
                                <!-- ì•Œë¦¼ ë©”ì‹œì§€ -->
                                <div class="flex items-baseline">
                                    <div class="font-semibold"> ë“±ë¡í•˜ì‹  ìƒí’ˆì— ì…ì°°ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤. ë°”ë¡œ í™•ì¸í•´ë³´ì„¸ìš”!</div>
                                </div>
                                <!-- ì•Œë¦¼ ì‹œê°„ -->
                                <!--/*@thymesVar id="thCurrentData" type="aj"*/-->
                                <div class="truncate text-sm text-zinc-700" th:text="${notification.getCreatedDate()}"></div>
                            </div>
                        </button>
                    </a>
                    <!-- ê²½ë§¤ ì¢…ë£Œ ì•Œë¦¼ -->
                    <a class="hover:bg-zinc-200" th:if="${notification.getNotificationType().name() == 'BID_END'}"
                       th:href="@{/item/{itemId}(itemId=${notification.getItemId()})}">
                        <button class="flex px-3 py-5  items-center">
                            <!-- ì´ëª¨í‹°ì½˜ -->
                            <div class="inline-block text-4xl mr-1">ğŸ“£</div>
                            <!-- ë©”ì‹œì§€, ì‹œê°„ -->
                            <div class="flex flex-col items-start ml-2">
                                <!-- ì•Œë¦¼ ë©”ì‹œì§€ -->
                                <div class="flex items-baseline">
                                    <div class="font-semibold"> ê²½ë§¤ê°€ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. íŒë§¤ìì˜ ì—°ë½ì„ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”!</div>
                                </div>
                                <!-- ì•Œë¦¼ ì‹œê°„ -->
                                <!--/*@thymesVar id="thCurrentData" type="aj"*/-->
                                <div class="truncate text-sm text-zinc-700" th:text="${notification.getCreatedDate()}"></div>
                            </div>
                        </button>
                    </a>
                    <!-- íŒë§¤ ì¢…ë£Œ ì•Œë¦¼ -->
                    <a class="hover:bg-zinc-200" th:if="${notification.getNotificationType().name() == 'SOLDOUT'}"
                       th:href="@{/item/{itemId}(itemId=${notification.getItemId()})}">
                        <button class="flex px-3 py-5  items-center">
                            <!-- ì´ëª¨í‹°ì½˜ -->
                            <div class="inline-block text-4xl mr-1">ğŸ“£</div>
                            <!-- ë©”ì‹œì§€, ì‹œê°„ -->
                            <div class="flex flex-col items-start ml-2">
                                <!-- ì•Œë¦¼ ë©”ì‹œì§€ -->
                                <div class="flex items-baseline">
                                    <div class="font-semibold"> ê°€ê²©ì„ ì œì‹œí•œ ë¬¼ê±´ì´ ë‚™ì°°ë°›ì§€ ëª»í•˜ì˜€ìŠµë‹ˆë‹¤.</div>
                                </div>
                                <!-- ì•Œë¦¼ ì‹œê°„ -->
                                <!--/*@thymesVar id="thCurrentData" type="aj"*/-->
                                <div class="truncate text-sm text-zinc-700" th:text="${notification.getCreatedDate()}"></div>
                            </div>
                        </button>
                    </a>
                    <!-- ëŒ“ê¸€ ì•Œë¦¼ -->
                    <a class="hover:bg-zinc-200" th:if="${notification.getNotificationType().name() == 'COMMENT'}"
                       th:href="@{/item/{itemId}(itemId=${notification.getItemId()})}">
                        <button class="flex px-3 py-5  items-center">
                            <!-- ì´ëª¨í‹°ì½˜ -->
                            <div class="inline-block text-4xl mr-1">ğŸ’¬</div>
                            <!-- ë©”ì‹œì§€, ì‹œê°„ -->
                            <div class="flex flex-col items-start ml-2">
                                <!-- ì•Œë¦¼ ë©”ì‹œì§€ -->
                                <div class="flex items-baseline">
                                    <div class="font-semibold"> ë“±ë¡í•˜ì‹  ìƒí’ˆì— ëŒ“ê¸€ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤. ë°”ë¡œ í™•ì¸í•´ë³´ì„¸ìš”!</div>
                                </div>
                                <!-- ì•Œë¦¼ ì‹œê°„ -->
                                <!--/*@thymesVar id="thCurrentData" type="aj"*/-->
                                <div class="truncate text-sm text-zinc-700" th:text="${notification.getCreatedDate()}"></div>
                            </div>
                        </button>
                    </a>
                    <!-- ë‚˜ë¨¸ì§€ ì•Œë¦¼ íƒ€ì…ì— ëŒ€í•œ ë¶„ê¸° ì²˜ë¦¬ -->
                </th:block>
            </div>
        </div>

        <!--   ì„¸ë¡œì„  ì•Œë¦¼ì°½ ì˜¤ë¥¸ìª½     -->
        <div class="border border-inherit"></div>


        <!--   ì„¸ë¡œì„  ì•Œë¦¼ì°½ ì˜¤ë¥¸ìª½     -->
        <div class="border border-inherit"></div>
    </div>
    <div class="border border-inherit"></div>
</div>
</body>
<script>
    const numberInput = document.getElementById('myNumberInput');
    numberInput.addEventListener('focus', () => {
        numberInput.blur();
    });
</script>

<script>
    $(function(){
        $('#readAllNotification').on("click",function () {
            var url = "/notifications";

            $.ajax({
                type: "put",
                url: "/notification/readAll",
                success: function (data) {
                    window.location.href = url;
                },
                error: function (request, status, error) {
                    console.log("code:"+request.status+"\n"+"message:"+request.responseText+"\n"+"error:"+error);
                }
            });
        });
    });
</script>

</html>